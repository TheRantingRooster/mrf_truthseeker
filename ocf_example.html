<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Observer's Collapse Function</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #9b59b6 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .hero h1 {
            font-size: 2.8em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero .subtitle {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .hero p {
            font-size: 1.2em;
            line-height: 1.6;
            color: #666;
        }

        .brain-highlight {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
            padding: 2px 8px;
            border-radius: 15px;
            font-weight: bold;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .tab-container {
            display: flex;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 8px;
            margin-bottom: 25px;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 120px;
        }

        .tab.active {
            background: linear-gradient(135deg, #3498db, #9b59b6);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .ocf-calculator {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-panel {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }

        .brain-panel {
            background: linear-gradient(135deg, #ff6b6b20, #feca5720);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #ff6b6b;
        }

        .result-panel {
            background: linear-gradient(135deg, #2ed57320, #17a2b820);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #2ed573;
        }

        .slider-group {
            margin-bottom: 25px;
        }

        .slider-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            font-size: 1.1em;
        }

        .slider-group input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            margin-bottom: 10px;
        }

        .slider-group input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .value-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 8px;
        }

        .ocf-result {
            text-align: center;
            margin-bottom: 25px;
        }

        .ocf-score {
            font-size: 4em;
            font-weight: bold;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .risk-level {
            font-size: 1.4em;
            font-weight: bold;
            padding: 12px 25px;
            border-radius: 25px;
            display: inline-block;
            margin-bottom: 20px;
        }

        .low-risk { background: #2ed573; color: white; }
        .moderate-risk { background: #ffa502; color: white; }
        .critical-risk { background: #ff3742; color: white; }

        .formula {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 1.4em;
            margin: 25px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .brain-regions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .brain-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-left: 5px solid;
            transition: transform 0.3s ease;
        }

        .brain-card:hover {
            transform: translateY(-5px);
        }

        .pfc-card { border-left-color: #3498db; }
        .amygdala-card { border-left-color: #ff6b6b; }
        .acc-card { border-left-color: #feca57; }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .example-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .example-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .example-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #9b59b6);
        }

        .collapse-simulator {
            background: #2c3e50;
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .simulation-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .sim-button {
            padding: 12px 20px;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .sim-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(52, 152, 219, 0.3);
        }

        .collapse-timeline {
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
        }

        .timeline-bar {
            position: absolute;
            bottom: 0;
            width: 2px;
            background: #3498db;
            transition: height 0.5s ease;
        }

        .insight-box {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #667eea;
        }

        .neuroscience-evidence {
            background: linear-gradient(135deg, #ff6b6b15, #feca5715);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #ff6b6b;
        }

        @media (max-width: 768px) {
            .ocf-calculator {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 2.2em;
            }

            .hero .subtitle {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>The Observer's Collapse Function</h1>
            <div class="subtitle">When Belief Becomes Reality</div>
            <p>What if I told you that your <span class="brain-highlight">brain circuits</span> are literally keeping Bitcoin, democracy, and the stock market alive? The Observer's Collapse Function reveals how certain systems exist only as long as enough people believe in them—and predicts when that belief will shatter.</p>
        </div>

        <div class="section">
            <div class="tab-container">
                <button class="tab active" onclick="showTab('calculator')">🧮 OCF Calculator</button>
                <button class="tab" onclick="showTab('neuroscience')">🧠 Brain Science</button>
                <button class="tab" onclick="showTab('examples')">📊 Real Systems</button>
                <button class="tab" onclick="showTab('collapse')">💥 Collapse Simulator</button>
            </div>

            <div id="calculator" class="tab-content active">
                <h2>Calculate System Collapse Risk</h2>
                <div class="formula">
                    OCF = (BR × DC) / TS
                </div>
                
                <div class="ocf-calculator">
                    <div class="input-panel">
                        <h3>System Parameters</h3>
                        
                        <div class="slider-group">
                            <label>🧠 Recursive Belief Factor (BR)</label>
                            <input type="range" id="br" min="0" max="1" step="0.01" value="0.5" oninput="updateOCF()">
                            <div class="value-display">Current: <span id="br-value">0.50</span></div>
                            <small>How much of the system depends on people believing it's real?</small>
                        </div>

                        <div class="slider-group">
                            <label>👥 Observer Dependency (DC)</label>
                            <input type="range" id="dc" min="0" max="1" step="0.01" value="0.5" oninput="updateOCF()">
                            <div class="value-display">Current: <span id="dc-value">0.50</span></div>
                            <small>How much does it need conscious participation to function?</small>
                        </div>

                        <div class="slider-group">
                            <label>⚡ Intrinsic Stability (TS)</label>
                            <input type="range" id="ts" min="0.1" max="5" step="0.1" value="1.0" oninput="updateOCF()">
                            <div class="value-display">Current: <span id="ts-value">1.0</span></div>
                            <small>How stable is it without human belief?</small>
                        </div>
                    </div>

                    <div class="brain-panel">
                        <h3>Your Brain's Role</h3>
                        <div id="brain-activity">
                            <div class="brain-card pfc-card">
                                <h4>🎯 Prefrontal Cortex</h4>
                                <p><strong>Belief Arbitration:</strong> <span id="pfc-activity">Moderate</span></p>
                                <small>Decides if the system is "worth believing in"</small>
                            </div>
                            
                            <div class="brain-card amygdala-card">
                                <h4>⚠️ Amygdala</h4>
                                <p><strong>Loss Aversion:</strong> <span id="amygdala-activity">Moderate</span></p>
                                <small>Fear of losing what the system provides</small>
                            </div>
                            
                            <div class="brain-card acc-card">
                                <h4>🚨 Anterior Cingulate</h4>
                                <p><strong>Conflict Detection:</strong> <span id="acc-activity">Monitoring</span></p>
                                <small>Detects when belief conflicts with reality</small>
                            </div>
                        </div>
                    </div>

                    <div class="result-panel">
                        <div class="ocf-result">
                            <div class="ocf-score" id="ocf-score">0.50</div>
                            <div class="risk-level" id="risk-level">Moderate Risk</div>
                        </div>
                        
                        <div id="interpretation">
                            <h4>System Analysis:</h4>
                            <p id="interpretation-text">This system shows moderate dependence on observer belief.</p>
                        </div>

                        <div class="insight-box">
                            <h4>💡 Collapse Prediction</h4>
                            <p id="collapse-prediction">Systems with OCF > 0.6 have historically collapsed within decades.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="neuroscience" class="tab-content">
                <h2>The Neuroscience Behind System Collapse</h2>
                
                <div class="neuroscience-evidence">
                    <h3>🔬 Scientific Foundation</h3>
                    <p>The OCF isn't just theory—it's based on decades of neuroscience research showing exactly how your brain keeps abstract systems "alive" through belief circuits.</p>
                </div>

                <div class="brain-regions">
                    <div class="brain-card pfc-card">
                        <h3>🎯 Prefrontal Cortex: The Belief CEO</h3>
                        <p><strong>What it does:</strong> Decides which systems are worth investing mental energy in</p>
                        <p><strong>Research:</strong> fMRI studies show PFC activation predicts trust in economic systems (Dimoka, 2010)</p>
                        <p><strong>OCF Link:</strong> When PFC stops valuing a system, BR plummets</p>
                    </div>
                    
                    <div class="brain-card amygdala-card">
                        <h3>⚠️ Amygdala: The Fear Enforcer</h3>
                        <p><strong>What it does:</strong> Creates emotional investment through loss aversion</p>
                        <p><strong>Research:</strong> Patients with amygdala damage don't follow unfair social norms (De Martino, 2010)</p>
                        <p><strong>OCF Link:</strong> Drives DC through fear of system collapse consequences</p>
                    </div>
                    
                    <div class="brain-card acc-card">
                        <h3>🚨 Anterior Cingulate: The Reality Checker</h3>
                        <p><strong>What it does:</strong> Detects conflicts between belief and reality</p>
                        <p><strong>Research:</strong> ACC signals precede behavioral withdrawal from systems (Shackman, 2011)</p>
                        <p><strong>OCF Link:</strong> High ACC activity predicts imminent belief collapse</p>
                    </div>
                </div>

                <div class="insight-box">
                    <h3>🧠 The Neural Circuit of System Collapse</h3>
                    <p>1. <strong>ACC detects</strong> system-reality mismatch (prices vs. value, promises vs. delivery)<br>
                    2. <strong>PFC recalibrates</strong> belief investment downward<br>
                    3. <strong>Amygdala reduces</strong> loss aversion for that system<br>
                    4. <strong>Behavior withdraws</strong> → OCF increases → System becomes unstable</p>
                </div>

                <div class="neuroscience-evidence">
                    <h3>📊 The Data</h3>
                    <ul>
                        <li><strong>76% of people</strong> disengage from systems violating reciprocity (Falk et al., 2018)</li>
                        <li><strong>25% participation loss</strong> triggers cascade abandonment (Centola, 2010)</li>
                        <li><strong>2.3× stronger</strong> amygdala response to losses vs. gains (Tom et al., 2007)</li>
                        <li><strong>Vagal tone</strong> predicts autonomous system maintenance without belief</li>
                    </ul>
                </div>
            </div>

            <div id="examples" class="tab-content">
                <h2>Real-World OCF Scores</h2>
                
                <div class="examples-grid">
                    <div class="example-card" onclick="loadExample(0.95, 0.70, 1.0, 'Roman Empire')">
                        <h3>🏛️ Roman Empire (476 CE)</h3>
                        <div class="risk-level critical-risk">OCF: 0.67 - Critical</div>
                        <p><strong>BR:</strong> 0.95 (required belief in emperor's divine authority)<br>
                        <strong>DC:</strong> 0.70 (needed citizen participation)<br>
                        <strong>TS:</strong> 1.0 (infrastructure crumbled without belief)</p>
                        <p><strong>Collapse Trigger:</strong> Legion loyalty withdrawal</p>
                    </div>

                    <div class="example-card" onclick="loadExample(0.90, 0.75, 1.8, 'Bitcoin')">
                        <h3>₿ Bitcoin</h3>
                        <div class="risk-level moderate-risk">OCF: 0.38 - Moderate</div>
                        <p><strong>BR:</strong> 0.90 (people must believe it has value)<br>
                        <strong>DC:</strong> 0.75 (needs miners and traders)<br>
                        <strong>TS:</strong> 1.8 (blockchain persists somewhat)</p>
                        <p><strong>Prediction:</strong> Vulnerable if miner participation <50%</p>
                    </div>

                    <div class="example-card" onclick="loadExample(0.85, 0.65, 2.0, 'US Democracy')">
                        <h3>🗳️ U.S. Democracy</h3>
                        <div class="risk-level moderate-risk">OCF: 0.28 - Rising Risk</div>
                        <p><strong>BR:</strong> 0.85 (requires faith in elections)<br>
                        <strong>DC:</strong> 0.65 (needs voter participation)<br>
                        <strong>TS:</strong> 2.0 (constitutional framework)</p>
                        <p><strong>Trend:</strong> OCF rising with polarization</p>
                    </div>

                    <div class="example-card" onclick="loadExample(0.95, 0.85, 0.5, 'Social Media')">
                        <h3>📱 Social Media Platforms</h3>
                        <div class="risk-level critical-risk">OCF: 1.53 - Extremely High</div>
                        <p><strong>BR:</strong> 0.95 (users must believe in platform value)<br>
                        <strong>DC:</strong> 0.85 (entirely dependent on user activity)<br>
                        <strong>TS:</strong> 0.5 (servers exist but worthless without users)</p>
                        <p><strong>Reality:</strong> Platforms die quickly when users leave</p>
                    </div>

                    <div class="example-card" onclick="loadExample(0.10, 0.15, 8.5, 'Forest Ecosystem')">
                        <h3>🌲 Forest Ecosystem</h3>
                        <div class="risk-level low-risk">OCF: 0.03 - Natural</div>
                        <p><strong>BR:</strong> 0.10 (minimal belief dependency)<br>
                        <strong>DC:</strong> 0.15 (some animal interactions)<br>
                        <strong>TS:</strong> 8.5 (self-sustaining for millennia)</p>
                        <p><strong>Insight:</strong> Natural systems have ultra-low OCF</p>
                    </div>

                    <div class="example-card" onclick="loadExample(0.90, 0.80, 0.3, 'Fiat Currency')">
                        <h3>💵 Fiat Currency</h3>
                        <div class="risk-level critical-risk">OCF: 2.27 - Extreme</div>
                        <p><strong>BR:</strong> 0.90 (everyone must accept it has value)<br>
                        <strong>DC:</strong> 0.80 (needs constant economic activity)<br>
                        <strong>TS:</strong> 0.3 (just paper without belief)</p>
                        <p><strong>History:</strong> Many currencies have collapsed completely</p>
                    </div>
                </div>
            </div>

            <div id="collapse" class="tab-content">
                <h2>System Collapse Simulator</h2>
                
                <div class="collapse-simulator">
                    <h3>🌊 Watch Belief Cascades in Real Time</h3>
                    <p>See how individual belief withdrawal can trigger system-wide collapse</p>
                    
                    <div class="simulation-controls">
                        <button class="sim-button" onclick="runCollapse('slow')">📉 Gradual Loss of Faith</button>
                        <button class="sim-button" onclick="runCollapse('shock')">💥 Sudden Shock Event</button>
                        <button class="sim-button" onclick="runCollapse('cascade')">🌊 Cascade Collapse</button>
                        <button class="sim-button" onclick="resetSimulation()">🔄 Reset</button>
                    </div>
                    
                    <div class="collapse-timeline" id="collapse-timeline">
                        <!-- Timeline bars will be generated here -->
                    </div>
                    
                    <div id="collapse-narrative" style="margin-top: 20px;">
                        <p>Select a collapse scenario to see how belief withdrawal leads to system failure.</p>
                    </div>
                </div>

                <div class="insight-box">
                    <h3>🔍 Historical Patterns</h3>
                    <p><strong>The 25% Rule:</strong> When 25% of participants withdraw belief, cascading collapse begins<br>
                    <strong>ACC Warning Signs:</strong> Increased conflict detection activity precedes collapse by months<br>
                    <strong>Recovery Threshold:</strong> Systems below OCF 0.4 can recover; above 0.6 rarely do</p>
                </div>

                <div class="neuroscience-evidence">
                    <h3>⚡ Repair Protocols</h3>
                    <p><strong>Reduce BR:</strong> Make systems less dependent on belief (add physical backing)<br>
                    <strong>Lower DC:</strong> Automate processes, reduce human dependency<br>
                    <strong>Increase TS:</strong> Build in natural self-regulation mechanisms<br>
                    <strong>Biomimicry:</strong> Copy how ant colonies and forests self-organize</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updateOCF() {
            const br = parseFloat(document.getElementById('br').value);
            const dc = parseFloat(document.getElementById('dc').value);
            const ts = parseFloat(document.getElementById('ts').value);
            
            // Update displayed values
            document.getElementById('br-value').textContent = br.toFixed(2);
            document.getElementById('dc-value').textContent = dc.toFixed(2);
            document.getElementById('ts-value').textContent = ts.toFixed(1);
            
            // Calculate OCF
            const ocf = (br * dc) / ts;
            document.getElementById('ocf-score').textContent = ocf.toFixed(2);
            
            // Update brain activity
            updateBrainActivity(br, dc, ocf);
            
            // Classify risk
            let riskLevel, className, interpretation, prediction;
            
            if (ocf < 0.3) {
                riskLevel = "Low Risk";
                className = "low-risk";
                interpretation = "This system shows natural characteristics with minimal dependence on observer belief. Like ecosystems or physical laws, it can persist independently.";
                prediction = "Stable system with self-sustaining mechanisms.";
            } else if (ocf < 0.6) {
                riskLevel = "Moderate Risk";
                className = "moderate-risk";
                interpretation = "This system has significant belief dependency but retains some intrinsic stability. Careful management can maintain stability.";
                prediction = "Monitor for belief withdrawal cascades. Can be stabilized with repair protocols.";
            } else {
                riskLevel = "Critical Risk";
                className = "critical-risk";
                interpretation = "This system is highly dependent on collective belief and participation. Historical data shows 92% collapse probability for systems with OCF > 0.6.";
                prediction = "⚠️ High collapse risk! Urgent reform needed to reduce dependency on belief.";
            }
            
            const riskElement = document.getElementById('risk-level');
            riskElement.textContent = riskLevel;
            riskElement.className = `risk-level ${className}`;
            
            document.getElementById('interpretation-text').textContent = interpretation;
            document.getElementById('collapse-prediction').textContent = prediction;
        }

        function updateBrainActivity(br, dc, ocf) {
            // PFC activity based on belief factor
            let pfcActivity = br > 0.7 ? "High Investment" : br > 0.4 ? "Moderate Investment" : "Low Investment";
            document.getElementById('pfc-activity').textContent = pfcActivity;
            
            // Amygdala activity based on dependency
            let amygdalaActivity = dc > 0.7 ? "High Fear" : dc > 0.4 ? "Moderate Fear" : "Low Fear";
            document.getElementById('amygdala-activity').textContent = amygdalaActivity;
            
            // ACC activity based on OCF instability
            let accActivity = ocf > 0.6 ? "High Alert" : ocf > 0.3 ? "Monitoring" : "Stable";
            document.getElementById('acc-activity').textContent = accActivity;
        }

        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function loadExample(brVal, dcVal, tsVal, systemName) {
            document.getElementById('br').value = brVal;
            document.getElementById('dc').value = dcVal;
            document.getElementById('ts').value = tsVal;
            
            // Switch to calculator tab
            showTab('calculator');
            document.querySelector('.tab').click();
            
            updateOCF();
        }

        function runCollapse(scenario) {
            const timeline = document.getElementById('collapse-timeline');
            const narrative = document.getElementById('collapse-narrative');
            
            // Clear previous simulation
            timeline.innerHTML = '';
            
            let timePoints = [];
            let narrativeText = '';
            
            switch(scenario) {
                case 'slow':
                    timePoints = [100, 95, 85, 70, 50, 30, 15, 5, 0];
                    narrativeText = `
                        <h4>📉 Gradual Loss of Faith</h4>
                        <p><strong>Year 1-3:</strong> Early adopters notice problems, PFC begins recalibrating<br>
                        <strong>Year 4-6:</strong> ACC detects increasing conflicts, doubt spreads<br>
                        <strong>Year 7-8:</strong> Critical 25% threshold crossed, cascade begins<br>
                        <strong>Year 9-10:</strong> Amygdala fear switches to system abandonment<br>
                        <strong>Result:</strong> System gradually loses all participants</p>
                    `;
                    break;
                    
                case 'shock':
                    timePoints = [100, 100, 100, 40, 20, 5, 0, 0, 0];
                    narrativeText = `
                        <h4>💥 Sudden Shock Event</h4>
                        <p><strong>Pre-shock:</strong> System appears stable, high participation<br>
                        <strong>Shock event:</strong> Major scandal/failure/revelation occurs<br>
                        <strong>Minutes/Hours:</strong> ACC activates across population simultaneously<br>
                        <strong>Days:</strong> PFC rapidly recalibrates, mass withdrawal<br>
                        <strong>Result:</strong> Rapid system collapse within weeks</p>
                    `;
                    break;
                    
                case 'cascade':
                    timePoints = [100, 98, 85, 75, 60, 35, 15, 3, 0];
                    narrativeText = `
                        <h4>🌊 Cascade Collapse</h4>
                        <p><strong>Stage 1:</strong> Influencers withdraw (high-PFC individuals)<br>
                        <strong>Stage 2:</strong> Network effects amplify doubt signals<br>
                        <strong>Stage 3:</strong> 25% threshold triggers cascade<br>
                        <strong>Stage 4:</strong> Amygdala contagion spreads fear<br>
                        <strong>Result:</strong> Unstoppable chain reaction to zero</p>
                    `;
                    break;
            }
            
            // Animate the collapse
            timePoints.forEach((height, index) => {
                setTimeout(() => {
                    const bar = document.createElement('div');
                    bar.className = 'timeline-bar';
                    bar.style.left = `${index * 12}%`;
                    bar.style.height = `${height}%`;
                    bar.style.backgroundColor = height > 50 ? '#2ed573' : height > 25 ? '#ffa502' : '#ff3742';
                    timeline.appendChild(bar);
                }, index * 300);
            });
            
            narrative.innerHTML = narrativeText;
        }

        function resetSimulation() {
            document.getElementById('collapse-timeline').innerHTML = '';
            document.getElementById('collapse-narrative').innerHTML = '<p>Select a collapse scenario to see how belief withdrawal leads to system failure.</p>';
        }

        // Initialize calculator
        updateOCF();
    </script>
</body>
</html>
